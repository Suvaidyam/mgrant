{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-11-20 11:29:00.619054",
 "css": ".pro{\n    color:red;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Project",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<link href=\"https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css\" rel=\"stylesheet\">\n<h1 class=\"text-2xl font-bold mb-1\">Details </h1>\n<div class=\"bg-white p-6 mb-4 rounded-lg shadow-lg\">\n    <!--<h2 class=\"text-2xl font-bold mb-4\">Project Information</h2>-->\n\n    <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n        <div>\n            <p class=\"text-md font-semibold\">NGO:</p>\n            <p class=\"text-gray-700\">{{ doc.ngo }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">Donor:</p>\n            <p class=\"text-gray-700\">{{ doc.donor }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">Project Name:</p>\n            <p class=\"text-gray-700\">{{ doc.project_name }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">Contact:</p>\n            <p class=\"text-gray-700\">{{ doc.contact }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">Start Date:</p>\n            <p class=\"text-gray-700\">{{ doc.start_date }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">End Date:</p>\n            <p class=\"text-gray-700\">{{ doc.end_date }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">Project Duration (Months):</p>\n            <p class=\"text-gray-700\">{{ doc.project_duration_in_months }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">Total Programme Cost:</p>\n            <p class=\"text-gray-700\">{{ doc.total_programme_cost }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">Total Amount Requested from Donor:</p>\n            <p class=\"text-gray-700\">{{ doc.total_amount_requested_from_donor }}</p>\n        </div>\n        <div>\n            <p class=\"text-md font-semibold\">Status:</p>\n            <p class=\"text-gray-700\"\n               {% if doc.status == 'Inactive' %}\n                    class=\"text-red-500\"\n               {% else %}\n                    class=\"text-green-500\"\n               {% endif %}\n            >\n                {{ doc.status }}\n            </p>\n        </div>\n    </div>\n</div>\n\n<h1 class=\"text-2xl font-bold mb-2\">Tranches Details</h1>\n{% set get_tranches = frappe.call('mgrant.apis.api.get_tranches') %}\n\n<table class=\"min-w-full table-auto border-collapse border border-gray-300 mt-1\">\n    <thead>\n        <tr class=\"bg-gray-100\">\n            <th class=\"px-4 py-2 border border-gray-300\">ID</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Financial Year</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Quarter</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Tranch Name</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Amount</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Disbursement Status</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Total Disbursement</th>\n        </tr>\n    </thead>\n    <tbody>\n        {% for project in get_tranches %}\n        <tr x-data=\"{ open: false }\" class=\"odd:bg-white even:bg-gray-50\">\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.name }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.financial_year }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.custom_quarter }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.tranch_name }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.amount }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.custom_disbursement_status }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.total_disbursement}}</td>\n        </tr>\n\n        {% endfor %}\n    </tbody>\n</table>\n\n\n<!-- =========================== Budget Table ===============================-->\n\n<h1 class=\"text-2xl font-bold mt-2 mb-3\">Budget Details </h1>\n{% set project_data = frappe.call('mgrant.apis.api.get_project_data') %}\n<table class=\"min-w-full table-auto border-collapse border border-gray-300 rounded-xl\">\n    <thead>\n        <tr class=\"bg-gray-100\">\n            <th class=\"px-4 py-2 border border-gray-300\">ID</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Budget Head</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Budget Name</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Financial Year</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Allocation</th>\n            <th class=\"px-4 py-2 border border-gray-300\">Expense</th>\n        </tr>\n    </thead>\n    <tbody>\n        {% for project in project_data %}\n        <tr x-data=\"{ open: false }\" class=\"odd:bg-white even:bg-gray-50\">\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.name }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.custom_budget_head }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.budget_name }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.financial_year }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.allocation }}</td>\n            <td class=\"px-4 py-2 text-black border border-gray-300\">{{ project.expense }}</td>\n        </tr>\n\n        <!-- Child Table for Transactions -->\n        <tr x-show=\"open\" x-cloak x-transition>\n            <td colspan=\"6\" class=\"px-4 py-2 border border-gray-300\">\n                <div class=\"bg-gray-50 p-4 rounded shadow\">\n                    <table class=\"min-w-full table-auto border-collapse border border-gray-300 mt-2\">\n                        <thead>\n                            <tr class=\"bg-gray-200\">\n                                <th class=\"px-4 py-2 border border-gray-300\">Budget</th>\n                                <th class=\"px-4 py-2 border border-gray-300\">As on Date</th>\n                                <th class=\"px-4 py-2 border border-gray-300\">Transaction</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {% if project.transactions %}\n                                {% for transaction in project.transactions %}\n                                    {% if transaction.budget == project.name %}\n                                        <tr class=\"odd:bg-white even:bg-gray-100\">\n                                            <td class=\"px-4 py-2 border border-gray-300\">{{ transaction.budget }}</td>\n                                            <td class=\"px-4 py-2 border border-gray-300\">{{ transaction.as_on_date }}</td>\n                                            <td class=\"px-4 py-2 border border-gray-300\">{{ transaction.transaction }}</td>\n                                        </tr>\n                                    {% endif %}\n                                {% endfor %}\n                            {% else %}\n                                <tr>\n                                    <td colspan=\"3\" class=\"px-4 py-2 border border-gray-300 text-center\">No Transactions</td>\n                                </tr>\n                            {% endif %}\n                        </tbody>\n                    </table>\n                </div>\n            </td>\n        </tr>\n        {% endfor %}\n    </tbody>\n</table>\n\n<!-- Include Alpine.js -->\n<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@2.8.2\" defer></script>\n\n<!-- Include jQuery for future customizations if needed -->\n<script src=\"https://code.jquery.com/jquery-3.5.1.min.js\"></script>\n\n<script>\n    // Alpine.js for toggling the child table\n    document.addEventListener('alpine:init', () => {\n        Alpine.data('toggleOpen', () => ({\n            open: false,\n            toggle() {\n                this.open = !this.open;\n            }\n        }));\n    });\n</script>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-11-20 19:40:55.011874",
 "modified_by": "Administrator",
 "module": "mGrant - Project",
 "name": "Project",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}